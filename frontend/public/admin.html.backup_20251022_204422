<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì í˜ì´ì§€ - Russian.Town</title>
    <link rel="icon" href="data:,">
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');

        :root {
            --russian-red: #DA020E;
            --russian-blue: #0039A6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            font-size: 12px;
            line-height: 1.3;
            color: #333;
            background: #f8f9fa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 10px;
        }

        /* í—¤ë” */
        .header {
            background: white;
            border-bottom: 1px solid #e0e0e0;
            padding: 6px 0;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--russian-blue);
            text-decoration: none;
        }

        .admin-badge {
            background: var(--russian-red);
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        /* íƒ­ ë©”ë‰´ */
        .tabs {
            background: white;
            margin-top: 10px;
            border-radius: 5px;
            padding: 10px;
            display: flex;
            gap: 8px;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab-btn {
            padding: 8px 20px;
            border: none;
            background: white;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            color: #666;
            border-radius: 4px 4px 0 0;
            transition: all 0.2s;
        }

        .tab-btn:hover {
            background: #f8f9fa;
        }

        .tab-btn.active {
            background: var(--russian-blue);
            color: white;
        }

        /* ì½˜í…ì¸  ì˜ì—­ */
        .tab-content {
            display: none;
            background: white;
            margin-top: 10px;
            border-radius: 5px;
            padding: 15px;
        }

        .tab-content.active {
            display: block;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--russian-blue);
        }

        /* í…Œì´ë¸” */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }

        .data-table th {
            background: #f8f9fa;
            padding: 6px 8px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #e0e0e0;
            font-size: 11px;
        }

        .data-table td {
            padding: 6px 8px;
            border-bottom: 1px solid #f0f0f0;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .status-deleted {
            color: #999;
            text-decoration: line-through;
        }

        .status-badge {
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 10px;
            font-weight: 600;
        }

        .badge-reported {
            background: #fff3cd;
            color: #856404;
        }

        .badge-deleted {
            background: #f8d7da;
            color: #721c24;
        }

        .badge-normal {
            background: #d4edda;
            color: #155724;
        }

        /* ë²„íŠ¼ */
        .action-btn {
            padding: 4px 10px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 3px;
            cursor: pointer;
            font-size: 10px;
            margin-right: 4px;
        }

        .action-btn:hover {
            background: #f8f9fa;
        }

        .btn-restore {
            color: var(--russian-blue);
            border-color: var(--russian-blue);
        }

        .btn-delete {
            color: var(--russian-red);
            border-color: var(--russian-red);
        }

        .btn-ignore {
            color: #666;
        }

        .report-detail {
            font-size: 10px;
            color: #666;
            margin-top: 4px;
        }

        .report-reason {
            color: var(--russian-red);
            font-weight: 600;
        }

        /* í†µê³„ ì¹´ë“œ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
        }

        .stat-label {
            font-size: 11px;
            color: #666;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--russian-blue);
        }

        .stat-card.warning .stat-value {
            color: var(--russian-red);
        }

        /* ì‚¬ì´ë“œë°” */
        .main-layout {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .sidebar {
            width: 238px;
            flex-shrink: 0;
        }

        .content-area {
            flex: 1;
        }

        .sidebar-section {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .sidebar-header {
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            padding: 6px 10px;
            font-size: 11px;
            font-weight: 600;
            color: #333;
        }

        .sidebar-menu {
            padding: 4px 0;
        }

        .sidebar-item {
            display: block;
            padding: 6px 10px;
            color: #666;
            text-decoration: none;
            font-size: 11px;
            transition: background 0.2s;
        }

        .sidebar-item:hover {
            background: #f0f0f0;
        }

        .sidebar-item.active {
            background: #e3f2fd;
            color: var(--russian-blue);
            font-weight: 600;
        }

        .russian-text {
            font-size: 9px;
            color: #999;
            margin-top: 1px;
        }

        /* ëª¨ë‹¬ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 8px;
            width: 600px;
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .modal-header {
            background: var(--russian-blue);
            color: white;
            padding: 15px 20px;
            border-radius: 8px 8px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 16px;
            font-weight: 600;
        }

        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            padding: 20px;
        }

        .detail-row {
            margin-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 15px;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-size: 11px;
            color: #666;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .detail-value {
            font-size: 13px;
            color: #333;
        }

        .detail-content {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 4px;
            white-space: pre-wrap;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="/index.html" class="logo">Russian.Town</a>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <a href="/index.html" style="text-decoration: none; color: #666; font-size: 12px; padding: 6px 12px; border: 1px solid #ddd; border-radius: 4px; transition: all 0.2s;">
                        ğŸ  <span style="margin-left: 4px;">í™ˆìœ¼ë¡œ ê°€ê¸°</span>
                    </a>
                    <div class="admin-badge">ğŸ” ê´€ë¦¬ì ëª¨ë“œ</div>
                </div>
            </div>
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="container">
        <div class="main-layout">
            <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” -->
            <aside class="sidebar">
                <!-- ê´€ë¦¬ ë©”ë‰´ -->
                <div class="sidebar-section">
                    <div class="sidebar-header">ê´€ë¦¬ ë©”ë‰´</div>
                    <div class="sidebar-menu">
                        <a href="/admin.html" class="sidebar-item active">ğŸš¨ ì‹ ê³  ê´€ë¦¬</a>
                        <a href="#" class="sidebar-item">ğŸ‘¥ íšŒì› ê´€ë¦¬</a>
                        <a href="#" class="sidebar-item">ğŸ“ ê²Œì‹œíŒ ê´€ë¦¬</a>
                        <a href="#" class="sidebar-item">ğŸ“Š í†µê³„</a>
                        <a href="#" class="sidebar-item">âš™ï¸ ì„¤ì •</a>
                    </div>
                </div>
            </aside>

            <!-- ë©”ì¸ ì½˜í…ì¸  -->
            <div class="content-area">
        <!-- í†µê³„ -->
        <div class="stats-grid" style="margin-top: 10px;">
            <div class="stat-card">
                <div class="stat-label">ì „ì²´ ê²Œì‹œê¸€</div>
                <div class="stat-value">1,247</div>
            </div>
            <div class="stat-card warning">
                <div class="stat-label">ì‚­ì œëœ ê²Œì‹œê¸€</div>
                <div class="stat-value">35</div>
            </div>
            <div class="stat-card warning">
                <div class="stat-label">ì‹ ê³ ëœ ê²Œì‹œê¸€</div>
                <div class="stat-value">8</div>
            </div>
            <div class="stat-card warning">
                <div class="stat-label">ì‹ ê³ ëœ ëŒ“ê¸€</div>
                <div class="stat-value">12</div>
            </div>
        </div>

        <!-- íƒ­ ë©”ë‰´ -->
        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('reported-posts')">ì‹ ê³ ëœ ê²Œì‹œê¸€</button>
            <button class="tab-btn" onclick="showTab('reported-comments')">ì‹ ê³ ëœ ëŒ“ê¸€</button>
            <button class="tab-btn" onclick="showTab('deleted-posts')">ì‚­ì œëœ ê²Œì‹œê¸€</button>
            <button class="tab-btn" onclick="showTab('deleted-comments')">ì‚­ì œëœ ëŒ“ê¸€</button>
            <button class="tab-btn" onclick="showTab('contact-requests')">ìš´ì˜ì ì—°ë½</button>
            <button class="tab-btn" onclick="showTab('system-settings')">ì‹œìŠ¤í…œ ì„¤ì •</button>
        </div>

        <!-- ì‹ ê³ ëœ ê²Œì‹œê¸€ -->
        <div id="reported-posts" class="tab-content active">
            <div class="section-title">ì‹ ê³ ëœ ê²Œì‹œê¸€ ê´€ë¦¬</div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th style="width: 60px;">ë²ˆí˜¸</th>
                        <th style="width: 100px;">ê²Œì‹œíŒ</th>
                        <th>ì œëª©</th>
                        <th style="width: 100px;">ì‘ì„±ì</th>
                        <th style="width: 120px;">ì‹ ê³ ì‚¬ìœ </th>
                        <th style="width: 100px;">ì‹ ê³ ì¼ì‹œ</th>
                        <th style="width: 80px;">ìƒíƒœ</th>
                        <th style="width: 150px;">ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2546</td>
                        <td>ììœ ê²Œì‹œíŒ</td>
                        <td><a href="/board-view.html">ì—¬ê¸°ì„œ ë¬¼ê±´ ì‚¬ê³ íŒŒëŠ” ì‚¬ëŒë“¤ ì¡°ì‹¬í•˜ì„¸ìš”</a></td>
                        <td>Ğ˜Ğ²Ğ°Ğ½</td>
                        <td><span class="report-reason">ìŠ¤íŒ¸/ê´‘ê³ </span><br><span class="report-detail">ì¤‘ë³µ ê²Œì‹œë¬¼</span></td>
                        <td>2025.10.01 13:20</td>
                        <td><span class="status-badge badge-reported">ì‹ ê³ ë¨</span></td>
                        <td>
                            <button class="action-btn btn-delete" onclick="handleDeletePost(2546)">ì‚­ì œ</button>
                            <button class="action-btn btn-ignore" onclick="handleIgnoreReport(2546, 'post')">ë¬´ì‹œ</button>
                        </td>
                    </tr>
                    <tr>
                        <td>2543</td>
                        <td>ììœ ê²Œì‹œíŒ</td>
                        <td><a href="/board-view.html">ì´ê±° ì™„ì „ ì‚¬ê¸°ì…ë‹ˆë‹¤!!! ì¡°ì‹¬í•˜ì„¸ìš”!</a></td>
                        <td>ë°•ì§€ì˜</td>
                        <td><span class="report-reason">ìš•ì„¤/ë¹„ë°©</span><br><span class="report-detail">íŠ¹ì •ì¸ ë¹„ë°©</span></td>
                        <td>2025.10.01 11:45</td>
                        <td><span class="status-badge badge-reported">ì‹ ê³ ë¨</span></td>
                        <td>
                            <button class="action-btn btn-delete" onclick="handleDeletePost(2543)">ì‚­ì œ</button>
                            <button class="action-btn btn-ignore" onclick="handleIgnoreReport(2543, 'post')">ë¬´ì‹œ</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ì‹ ê³ ëœ ëŒ“ê¸€ -->
        <div id="reported-comments" class="tab-content">
            <div class="section-title">ì‹ ê³ ëœ ëŒ“ê¸€ ê´€ë¦¬</div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th style="width: 60px;">ë²ˆí˜¸</th>
                        <th>ëŒ“ê¸€ ë‚´ìš©</th>
                        <th style="width: 100px;">ì‘ì„±ì</th>
                        <th style="width: 100px;">ê²Œì‹œê¸€</th>
                        <th style="width: 120px;">ì‹ ê³ ì‚¬ìœ </th>
                        <th style="width: 100px;">ì‹ ê³ ì¼ì‹œ</th>
                        <th style="width: 80px;">ìƒíƒœ</th>
                        <th style="width: 150px;">ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>15234</td>
                        <td>ì´ëŸ° ì“°ë ˆê¸° ê°™ì€ ì •ë³´ëŠ” í•„ìš”ì—†ì–´ìš”. ê´‘ê³ í•˜ì§€ ë§ˆì„¸ìš”.</td>
                        <td>Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€</td>
                        <td><a href="/board-view.html">ì€í–‰ê³„ì¢Œ ê°œì„¤...</a></td>
                        <td><span class="report-reason">ìš•ì„¤/ë¹„ë°©</span><br><span class="report-detail">ë¶€ì ì ˆí•œ í‘œí˜„</span></td>
                        <td>2025.10.01 14:10</td>
                        <td><span class="status-badge badge-reported">ì‹ ê³ ë¨</span></td>
                        <td>
                            <button class="action-btn btn-delete" onclick="handleDeleteComment(15234)">ì‚­ì œ</button>
                            <button class="action-btn btn-ignore" onclick="handleIgnoreReport(15234, 'comment')">ë¬´ì‹œ</button>
                        </td>
                    </tr>
                    <tr>
                        <td>15198</td>
                        <td>ì—¬ê¸° ì „í™”í•˜ë©´ ë°”ë¡œ í•´ê²°ë©ë‹ˆë‹¤ 010-1234-5678</td>
                        <td>ê¹€ì² ìˆ˜</td>
                        <td><a href="/board-view.html">ë¹„ì ì—°ì¥ ë¬¸ì˜...</a></td>
                        <td><span class="report-reason">ê°œì¸ì •ë³´ ë…¸ì¶œ</span><br><span class="report-detail">ì „í™”ë²ˆí˜¸ ê³µê°œ</span></td>
                        <td>2025.10.01 12:30</td>
                        <td><span class="status-badge badge-reported">ì‹ ê³ ë¨</span></td>
                        <td>
                            <button class="action-btn btn-delete" onclick="handleDeleteComment(15198)">ì‚­ì œ</button>
                            <button class="action-btn btn-ignore" onclick="handleIgnoreReport(15198, 'comment')">ë¬´ì‹œ</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ì‚­ì œëœ ê²Œì‹œê¸€ -->
        <div id="deleted-posts" class="tab-content">
            <div class="section-title">ì‚­ì œëœ ê²Œì‹œê¸€ ê´€ë¦¬</div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th style="width: 60px;">ë²ˆí˜¸</th>
                        <th style="width: 100px;">ê²Œì‹œíŒ</th>
                        <th>ì œëª©</th>
                        <th style="width: 100px;">ì‘ì„±ì</th>
                        <th style="width: 100px;">ì‚­ì œì</th>
                        <th style="width: 100px;">ì‚­ì œì¼ì‹œ</th>
                        <th style="width: 80px;">ìƒíƒœ</th>
                        <th style="width: 100px;">ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2540</td>
                        <td>ììœ ê²Œì‹œíŒ</td>
                        <td class="status-deleted">ê´‘ê³ ) ì €ë ´í•œ ê°€ê²©ì— ë¬¼ê±´ íŒë§¤í•©ë‹ˆë‹¤</td>
                        <td>ĞĞ½Ğ½Ğ°</td>
                        <td>ê´€ë¦¬ì</td>
                        <td>2025.10.01 10:20</td>
                        <td><span class="status-badge badge-deleted">ì‚­ì œë¨</span></td>
                        <td>
                            <button class="action-btn btn-restore" onclick="handleRestorePost(2540)">ë³µêµ¬</button>
                        </td>
                    </tr>
                    <tr>
                        <td>2535</td>
                        <td>ììœ ê²Œì‹œíŒ</td>
                        <td class="status-deleted">ìš•ì„¤ì´ í¬í•¨ëœ ê²Œì‹œê¸€</td>
                        <td>ê¹€ë¯¼ìˆ˜</td>
                        <td>ë³¸ì¸</td>
                        <td>2025.09.30 18:45</td>
                        <td><span class="status-badge badge-deleted">ì‚­ì œë¨</span></td>
                        <td>
                            <button class="action-btn btn-restore" onclick="handleRestorePost(2535)">ë³µêµ¬</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ì‚­ì œëœ ëŒ“ê¸€ -->
        <div id="deleted-comments" class="tab-content">
            <div class="section-title">ì‚­ì œëœ ëŒ“ê¸€ ê´€ë¦¬</div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th style="width: 60px;">ë²ˆí˜¸</th>
                        <th>ëŒ“ê¸€ ë‚´ìš©</th>
                        <th style="width: 100px;">ì‘ì„±ì</th>
                        <th style="width: 100px;">ê²Œì‹œê¸€</th>
                        <th style="width: 100px;">ì‚­ì œì</th>
                        <th style="width: 100px;">ì‚­ì œì¼ì‹œ</th>
                        <th style="width: 80px;">ìƒíƒœ</th>
                        <th style="width: 100px;">ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>15180</td>
                        <td class="status-deleted">ê´‘ê³ ì„± ëŒ“ê¸€ì…ë‹ˆë‹¤. ì—¬ê¸° ì—°ë½ì£¼ì„¸ìš”...</td>
                        <td>Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€</td>
                        <td><a href="/board-view.html">ì€í–‰ê³„ì¢Œ ê°œì„¤...</a></td>
                        <td>ê´€ë¦¬ì</td>
                        <td>2025.10.01 09:15</td>
                        <td><span class="status-badge badge-deleted">ì‚­ì œë¨</span></td>
                        <td>
                            <button class="action-btn btn-restore" onclick="handleRestoreComment(15180)">ë³µêµ¬</button>
                        </td>
                    </tr>
                    <tr>
                        <td>15145</td>
                        <td class="status-deleted">ë¶€ì ì ˆí•œ ìš•ì„¤ì´ í¬í•¨ëœ ëŒ“ê¸€</td>
                        <td>ë°•ì§€ì˜</td>
                        <td><a href="/board-view.html">ìƒí™œì •ë³´ ê³µìœ ...</a></td>
                        <td>ë³¸ì¸</td>
                        <td>2025.09.30 16:30</td>
                        <td><span class="status-badge badge-deleted">ì‚­ì œë¨</span></td>
                        <td>
                            <button class="action-btn btn-restore" onclick="handleRestoreComment(15145)">ë³µêµ¬</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ìš´ì˜ì ì—°ë½ -->
        <div id="contact-requests" class="tab-content">
            <div class="section-title">ìš´ì˜ì ì—°ë½ ê´€ë¦¬</div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th style="width: 100px;">ìœ í˜•</th>
                        <th>ì œëª©</th>
                        <th style="width: 120px;">ì´ë¦„</th>
                        <th style="width: 130px;">ì¼ì‹œ</th>
                        <th style="width: 160px;">ê´€ë¦¬</th>
                    </tr>
                </thead>
                <tbody id="contactRequestsTable">
                    <!-- JavaScriptë¡œ ë™ì  ë¡œë“œ -->
                </tbody>
            </table>
            <div id="noContactRequests" style="display: none; text-align: center; padding: 40px; color: #999;">
                ì ‘ìˆ˜ëœ ì—°ë½ì´ ì—†ìŠµë‹ˆë‹¤
            </div>
        </div>

        <!-- ì‹œìŠ¤í…œ ì„¤ì • -->
        <div id="system-settings" class="tab-content">
            <div class="section-title">ì‹œìŠ¤í…œ ì„¤ì •</div>

            <!-- ë²ˆì—­ ì„¤ì • -->
            <div style="background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 15px 0; font-size: 16px; color: #333;">ğŸŒ ë²ˆì—­ ì„¤ì •</h3>

                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #555;">ë²ˆì—­ ì„œë¹„ìŠ¤ ì œê³µì</label>
                    <select id="translationProvider" style="width: 300px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        <option value="deepl">DeepL (ê³ í’ˆì§ˆ ë²ˆì—­)</option>
                        <option value="google">Google Cloud Translation</option>
                    </select>
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #555;">DeepL API Key</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="deeplApiKey" placeholder="8ea8ad3f-c670-4df8-b1b4-abd4fe050c94:fx"
                               style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-family: monospace;">
                        <button onclick="saveDeepLSettings()" class="action-btn" style="padding: 8px 20px;">ì €ì¥</button>
                        <button onclick="testDeepLConnection()" class="action-btn" style="padding: 8px 20px; background: #28a745;">í…ŒìŠ¤íŠ¸</button>
                    </div>
                    <div style="margin-top: 5px; font-size: 12px; color: #666;">
                        ğŸ’¡ DeepL API KeyëŠ” <a href="https://www.deepl.com/pro-api" target="_blank" style="color: #0066cc;">DeepL Pro API</a>ì—ì„œ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                    <div id="deeplStatus" style="margin-top: 10px; padding: 10px; border-radius: 4px; display: none;"></div>
                </div>
            </div>

            <!-- ê¸°íƒ€ ì„¤ì • ì„¹ì…˜ (ì¶”í›„ í™•ì¥) -->
            <div style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 15px 0; font-size: 16px; color: #333;">âš™ï¸ ê¸°íƒ€ ì„¤ì •</h3>
                <div style="padding: 20px; text-align: center; color: #999;">
                    ì¶”ê°€ ì‹œìŠ¤í…œ ì„¤ì •ì´ ê³§ ì œê³µë©ë‹ˆë‹¤.
                </div>
            </div>
        </div>
            </div>
        </div>
    </div>

    <br><br>

    <!-- ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">ì—°ë½ ìƒì„¸ ì •ë³´</div>
                <button class="modal-close" onclick="closeContactModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- JavaScriptë¡œ ë™ì  ë¡œë“œ -->
            </div>
        </div>
    </div>

    <script>
        // ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ ë° ìš´ì˜ì ì—°ë½ ë¡œë“œ
        window.addEventListener('DOMContentLoaded', function() {
            const userInfoStr = localStorage.getItem('userInfo');

            if (!userInfoStr) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                window.location.href = '/login.html';
                return;
            }

            try {
                const userInfo = JSON.parse(userInfoStr);
                if (!userInfo.isAdmin) {
                    alert('ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    window.location.href = '/index.html';
                    return;
                }

                // ìš´ì˜ì ì—°ë½ ë°ì´í„° ë¡œë“œ
                loadContactRequests();
            } catch (e) {
                console.error('ì‚¬ìš©ì ì •ë³´ íŒŒì‹± ì˜¤ë¥˜:', e);
                alert('ë¡œê·¸ì¸ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                window.location.href = '/login.html';
            }
        });

        // ìš´ì˜ì ì—°ë½ ë°ì´í„° ë¡œë“œ
        function loadContactRequests() {
            const contacts = JSON.parse(localStorage.getItem('adminContacts') || '[]');
            const tableBody = document.getElementById('contactRequestsTable');
            const noDataDiv = document.getElementById('noContactRequests');

            if (contacts.length === 0) {
                noDataDiv.style.display = 'block';
                return;
            }

            noDataDiv.style.display = 'none';

            tableBody.innerHTML = contacts.map((contact, index) => {
                const typeLabel = contact.type === 'ad' ? 'ê´‘ê³ /í˜‘ë ¥' : 'ê±´ì˜';
                const typeBadge = contact.type === 'ad' ? 'badge-reported' : 'badge-normal';

                // ìš”ì²­ ìœ í˜• ë²ˆì—­
                const requestTypeMap = {
                    // ê´‘ê³ /í˜‘ë ¥ ìš”ì²­ ìœ í˜•
                    'banner': 'ë°°ë„ˆ ê´‘ê³ ',
                    'content': 'ì½˜í…ì¸  í˜‘ì°¬',
                    'partnership': 'ë¹„ì¦ˆë‹ˆìŠ¤ ì œíœ´',
                    'event': 'ì´ë²¤íŠ¸ í˜‘ë ¥',
                    // ê±´ì˜ ìœ í˜•
                    'improvement': 'ì„œë¹„ìŠ¤ ê°œì„ ',
                    'feature': 'ê¸°ëŠ¥ ì¶”ê°€',
                    'bug': 'ë²„ê·¸ ì‹ ê³ ',
                    'complaint': 'ë¶ˆí¸ ì‚¬í•­',
                    'question': 'ì§ˆë¬¸',
                    'other': 'ê¸°íƒ€'
                };

                const requestType = contact.requestType || contact.suggestType || 'other';
                const requestTypeLabel = requestTypeMap[requestType] || 'ê¸°íƒ€';

                const date = new Date(contact.timestamp);
                const dateStr = date.toLocaleString('ko-KR', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                return `
                    <tr>
                        <td><span class="status-badge ${typeBadge}">${typeLabel}</span></td>
                        <td><strong>${contact.title || '-'}</strong></td>
                        <td>${contact.name || '-'}</td>
                        <td>${dateStr}</td>
                        <td style="white-space: nowrap;">
                            <button class="action-btn" onclick="viewContactDetail(${index})">ìƒì„¸ë³´ê¸°</button>
                            <button class="action-btn btn-delete" onclick="deleteContactRequest(${index})">ì‚­ì œ</button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // ì—°ë½ ìƒì„¸ë³´ê¸°
        function viewContactDetail(index) {
            const contacts = JSON.parse(localStorage.getItem('adminContacts') || '[]');
            const contact = contacts[index];

            if (!contact) {
                alert('ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            const typeLabel = contact.type === 'ad' ? 'ê´‘ê³ /í˜‘ë ¥ ìš”ì²­' : 'ìš´ì˜ì ê±´ì˜';
            const requestTypeMap = {
                'banner': 'ë°°ë„ˆ ê´‘ê³ ',
                'content': 'ì½˜í…ì¸  í˜‘ì°¬',
                'partnership': 'ë¹„ì¦ˆë‹ˆìŠ¤ ì œíœ´',
                'event': 'ì´ë²¤íŠ¸ í˜‘ë ¥',
                'improvement': 'ì„œë¹„ìŠ¤ ê°œì„ ',
                'feature': 'ê¸°ëŠ¥ ì¶”ê°€',
                'bug': 'ë²„ê·¸ ì‹ ê³ ',
                'complaint': 'ë¶ˆí¸ ì‚¬í•­',
                'question': 'ì§ˆë¬¸',
                'other': 'ê¸°íƒ€'
            };
            const requestType = contact.requestType || contact.suggestType || 'other';
            const requestTypeLabel = requestTypeMap[requestType] || 'ê¸°íƒ€';

            document.getElementById('modalTitle').textContent = typeLabel;

            let modalHTML = `
                <div class="detail-row">
                    <div class="detail-label">ğŸ‘¤ ì´ë¦„</div>
                    <div class="detail-value">${contact.name || '-'}</div>
                </div>
            `;

            if (contact.company) {
                modalHTML += `
                    <div class="detail-row">
                        <div class="detail-label">ğŸ¢ íšŒì‚¬ëª…</div>
                        <div class="detail-value">${contact.company}</div>
                    </div>
                `;
            }

            modalHTML += `
                <div class="detail-row">
                    <div class="detail-label">ğŸ“§ ì´ë©”ì¼</div>
                    <div class="detail-value">${contact.email || '-'}</div>
                </div>
            `;

            if (contact.phone) {
                modalHTML += `
                    <div class="detail-row">
                        <div class="detail-label">ğŸ“ ì—°ë½ì²˜</div>
                        <div class="detail-value">${contact.phone}</div>
                    </div>
                `;
            }

            modalHTML += `
                <div class="detail-row">
                    <div class="detail-label">ğŸ“‚ ìš”ì²­ ìœ í˜•</div>
                    <div class="detail-value">${requestTypeLabel}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">ğŸ“Œ ì œëª©</div>
                    <div class="detail-value"><strong>${contact.title || '-'}</strong></div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">ğŸ“ ìƒì„¸ ë‚´ìš©</div>
                    <div class="detail-content">${contact.content || '-'}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">ğŸ• ì ‘ìˆ˜ ì¼ì‹œ</div>
                    <div class="detail-value">${new Date(contact.timestamp).toLocaleString('ko-KR', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    })}</div>
                </div>
            `;

            document.getElementById('modalBody').innerHTML = modalHTML;
            document.getElementById('contactModal').classList.add('show');
        }

        // ëª¨ë‹¬ ë‹«ê¸°
        function closeContactModal() {
            document.getElementById('contactModal').classList.remove('show');
        }

        // ëª¨ë‹¬ ë°°ê²½ í´ë¦­ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(e) {
            if (e.target.id === 'contactModal') {
                closeContactModal();
            }
        });

        // ì—°ë½ ì‚­ì œ
        function deleteContactRequest(index) {
            if (confirm('ì´ ì—°ë½ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const contacts = JSON.parse(localStorage.getItem('adminContacts') || '[]');
                contacts.splice(index, 1);
                localStorage.setItem('adminContacts', JSON.stringify(contacts));
                alert('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
                loadContactRequests();
            }
        }

        // íƒ­ ì „í™˜
        function showTab(tabId) {
            // ëª¨ë“  íƒ­ ë²„íŠ¼ê³¼ ì½˜í…ì¸  ë¹„í™œì„±í™”
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        // ê²Œì‹œê¸€ ì‚­ì œ
        function handleDeletePost(postId) {
            if (confirm(`ê²Œì‹œê¸€ #${postId}ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì‚­ì œëœ ê²Œì‹œê¸€ì€ "ì‚­ì œëœ ê²Œì‹œê¸€" íƒ­ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`)) {
                alert(`ê²Œì‹œê¸€ #${postId}ì´(ê°€) ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œí•˜ì—¬ ì‚­ì œ ì²˜ë¦¬
                // ì‚­ì œ í›„ í•´ë‹¹ í–‰ì„ "ì‚­ì œëœ ê²Œì‹œê¸€" íƒ­ìœ¼ë¡œ ì´ë™
                location.reload();
            }
        }

        // ëŒ“ê¸€ ì‚­ì œ
        function handleDeleteComment(commentId) {
            if (confirm(`ëŒ“ê¸€ #${commentId}ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì‚­ì œëœ ëŒ“ê¸€ì€ "ì‚­ì œëœ ëŒ“ê¸€" íƒ­ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`)) {
                alert(`ëŒ“ê¸€ #${commentId}ì´(ê°€) ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œí•˜ì—¬ ì‚­ì œ ì²˜ë¦¬
                location.reload();
            }
        }

        // ì‹ ê³  ë¬´ì‹œ
        function handleIgnoreReport(id, type) {
            const typeName = type === 'post' ? 'ê²Œì‹œê¸€' : 'ëŒ“ê¸€';
            if (confirm(`${typeName} #${id}ì˜ ì‹ ê³ ë¥¼ ë¬´ì‹œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\në¬´ì‹œëœ ì‹ ê³ ëŠ” ë” ì´ìƒ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.`)) {
                alert(`${typeName} #${id}ì˜ ì‹ ê³ ê°€ ë¬´ì‹œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œí•˜ì—¬ ì‹ ê³  ë¬´ì‹œ ì²˜ë¦¬
                location.reload();
            }
        }

        // ê²Œì‹œê¸€ ë³µêµ¬
        function handleRestorePost(postId) {
            if (confirm(`ê²Œì‹œê¸€ #${postId}ì„(ë¥¼) ë³µêµ¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\në³µêµ¬ëœ ê²Œì‹œê¸€ì€ ë‹¤ì‹œ ê²Œì‹œíŒì— í‘œì‹œë©ë‹ˆë‹¤.`)) {
                alert(`ê²Œì‹œê¸€ #${postId}ì´(ê°€) ë³µêµ¬ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œí•˜ì—¬ ë³µêµ¬ ì²˜ë¦¬
                location.reload();
            }
        }

        // ëŒ“ê¸€ ë³µêµ¬
        function handleRestoreComment(commentId) {
            if (confirm(`ëŒ“ê¸€ #${commentId}ì„(ë¥¼) ë³µêµ¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\në³µêµ¬ëœ ëŒ“ê¸€ì€ ë‹¤ì‹œ ê²Œì‹œê¸€ì— í‘œì‹œë©ë‹ˆë‹¤.`)) {
                alert(`ëŒ“ê¸€ #${commentId}ì´(ê°€) ë³µêµ¬ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œí•˜ì—¬ ë³µêµ¬ ì²˜ë¦¬
                location.reload();
            }
        }

        // ===== ì‹œìŠ¤í…œ ì„¤ì • ê´€ë ¨ í•¨ìˆ˜ =====

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹œìŠ¤í…œ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        async function loadSystemSettings() {
            try {
                const token = localStorage.getItem('access_token') ||
                             (localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')).access_token : null);

                if (!token) {
                    console.error('ì¸ì¦ í† í°ì´ ì—†ìŠµë‹ˆë‹¤');
                    return;
                }

                const API_BASE = 'http://localhost:8000';
                const response = await fetch(`${API_BASE}/api/admin/settings?category=translation`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (response.ok) {
                    const settings = await response.json();

                    // ë²ˆì—­ ì œê³µì ì„¤ì •
                    const providerSetting = settings.find(s => s.key === 'translation_provider');
                    if (providerSetting) {
                        document.getElementById('translationProvider').value = providerSetting.value;
                    }

                    // DeepL API Key ì„¤ì •
                    const deeplKeySetting = settings.find(s => s.key === 'deepl_api_key');
                    if (deeplKeySetting) {
                        document.getElementById('deeplApiKey').value = deeplKeySetting.value;
                    }
                } else {
                    console.error('ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', response.status);
                }
            } catch (error) {
                console.error('ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜:', error);
            }
        }

        // DeepL ì„¤ì • ì €ì¥
        async function saveDeepLSettings() {
            const apiKey = document.getElementById('deeplApiKey').value.trim();
            const provider = document.getElementById('translationProvider').value;

            if (!apiKey) {
                alert('DeepL API Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            try {
                const token = localStorage.getItem('access_token') ||
                             (localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')).access_token : null);

                if (!token) {
                    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    return;
                }

                const API_BASE = 'http://localhost:8000';

                // DeepL API Key ì €ì¥
                const deeplResponse = await fetch(`${API_BASE}/api/admin/settings/deepl_api_key`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ value: apiKey })
                });

                // Translation Provider ì €ì¥
                const providerResponse = await fetch(`${API_BASE}/api/admin/settings/translation_provider`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ value: provider })
                });

                if (deeplResponse.ok && providerResponse.ok) {
                    const statusDiv = document.getElementById('deeplStatus');
                    statusDiv.style.display = 'block';
                    statusDiv.style.background = '#d4edda';
                    statusDiv.style.color = '#155724';
                    statusDiv.style.border = '1px solid #c3e6cb';
                    statusDiv.innerHTML = 'âœ… DeepL ì„¤ì •ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!';

                    setTimeout(() => {
                        statusDiv.style.display = 'none';
                    }, 3000);
                } else {
                    throw new Error('ì„¤ì • ì €ì¥ ì‹¤íŒ¨');
                }
            } catch (error) {
                console.error('ì„¤ì • ì €ì¥ ì˜¤ë¥˜:', error);
                const statusDiv = document.getElementById('deeplStatus');
                statusDiv.style.display = 'block';
                statusDiv.style.background = '#f8d7da';
                statusDiv.style.color = '#721c24';
                statusDiv.style.border = '1px solid #f5c6cb';
                statusDiv.innerHTML = 'âŒ ì„¤ì • ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message;
            }
        }

        // DeepL ì—°ê²° í…ŒìŠ¤íŠ¸
        async function testDeepLConnection() {
            const apiKey = document.getElementById('deeplApiKey').value.trim();

            if (!apiKey) {
                alert('DeepL API Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ë¨¼ì € ì €ì¥
            await saveDeepLSettings();

            const statusDiv = document.getElementById('deeplStatus');
            statusDiv.style.display = 'block';
            statusDiv.style.background = '#d1ecf1';
            statusDiv.style.color = '#0c5460';
            statusDiv.style.border = '1px solid #bee5eb';
            statusDiv.innerHTML = 'ğŸ”„ DeepL API ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì¤‘...';

            const API_BASE = 'http://localhost:8000';
            const token = localStorage.getItem('access_token') ||
                         (localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')).access_token : null);

            if (!token) {
                statusDiv.style.background = '#f8d7da';
                statusDiv.style.color = '#721c24';
                statusDiv.style.border = '1px solid #f5c6cb';
                statusDiv.innerHTML = 'âŒ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.';
                return;
            }

            try {
                // ë°±ì—”ë“œ APIë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸
                const response = await fetch(`${API_BASE}/api/admin/test-deepl`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    statusDiv.style.background = '#d4edda';
                    statusDiv.style.color = '#155724';
                    statusDiv.style.border = '1px solid #c3e6cb';
                    statusDiv.innerHTML = `âœ… DeepL API ì—°ê²° ì„±ê³µ!<br>í…ŒìŠ¤íŠ¸ ë²ˆì—­: "${data.test_translation.original}" â†’ "${data.test_translation.translated}"`;
                } else if (response.status === 403) {
                    statusDiv.style.background = '#f8d7da';
                    statusDiv.style.color = '#721c24';
                    statusDiv.style.border = '1px solid #f5c6cb';
                    statusDiv.innerHTML = 'âŒ API Keyê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. DeepL Pro API Keyë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.';
                } else {
                    const errorData = await response.json();
                    statusDiv.style.background = '#f8d7da';
                    statusDiv.style.color = '#721c24';
                    statusDiv.style.border = '1px solid #f5c6cb';
                    statusDiv.innerHTML = `âŒ DeepL API ì˜¤ë¥˜ (${response.status}): ${errorData.detail || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'}`;
                }
            } catch (error) {
                statusDiv.style.background = '#f8d7da';
                statusDiv.style.color = '#721c24';
                statusDiv.style.border = '1px solid #f5c6cb';
                statusDiv.innerHTML = 'âŒ ì—°ê²° ì‹¤íŒ¨: ' + error.message;
            }
        }

        // ì‹œìŠ¤í…œ ì„¤ì • íƒ­ í‘œì‹œ ì‹œ ì„¤ì • ë¡œë“œ
        const originalShowTab = showTab;
        showTab = function(tabId) {
            originalShowTab(tabId);
            if (tabId === 'system-settings') {
                loadSystemSettings();
            }
        };
    </script>
</body>
</html>
